<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Loja de Hardware</title>
    <style>
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
          
            transition: background-color 5000s ease-in-out 0s;
        }

        #resposta {
            display: flex;
            flex-direction: column;
            gap: 2vh;
            background-color: rgb(234, 234, 234);
            padding: 4vh;
            border-radius: 15px;
            max-width: 50vh;
            flex-wrap: wrap;
            font-family: JetBrains Mono;

        }

        body {
            height: 100vh;
            
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to right, #606bd1, #6f78c6, #7a81c3);
        }

        #perguntaInput:focus {
            outline: none;
            border: none;
            background-color: transparent;
        }

        #perguntaInput {

            border: none;
            padding: 5vh;
            font-family: JetBrains Mono;
            font-size: 16px;
            background-color: transparent;


        }

        #carregarBtn {
            width: 100%;
            border: none;
            padding: 1.6vh;
            background: linear-gradient(to right, #606bd1, #6f78c6, #7a81c3);
            color: white;
            border-radius: 16px;
            font-size: 20px;
            font-family: JetBrains Mono;
        }

        #carregarBtn:hover {
            background-color: rgb(78, 78, 241);
            cursor: pointer;

        }

        .container {
            display: flex;
            font-family: JetBrains Mono;
            flex-direction: column;
            gap: 2.1vh;
            background-color: rgb(234, 234, 234);
            padding: 4vh;
            border-radius: 30px;
            flex-wrap: nowrap;
            margin-bottom: 2vh;

        }

        .title {
            font-size: 33px;
            font-family: JetBrains Mono;
            color: white;
            text-align: center;
            font-weight: 600;
            margin-bottom: 4vh;
        }
    </style>
</head>

<body id="body">
             <div id="loading">
               
             </div>
             <div id="resposta"></div>
            <div>

            <div class="title">No que está pensando?</div>

            <div class="container">

                <div id="pergunta">
                    <input type="text" id="perguntaInput" placeholder="Digite sua pergunta aqui..." autofocus />
                </div>


                <div>
                    <button id="carregarBtn">enviar</button>
                </div>

            </div>


            <script>

                document.addEventListener('DOMContentLoaded', function () {
                    const perguntaInput = document.getElementById('perguntaInput');
                    const carregarBtn = document.getElementById('carregarBtn');
                    const respostaElement = document.getElementById('resposta');


                    respostaElement.style.display = 'none';
                    async function CarregarPrompt() {

                        const chaveApi = 'AIzaSyCZ1g1kRwd5kszXcgRYBH_5NnoanqFuihE';

                        if (!chaveApi) {
                            respostaElement.innerHTML = '<div class="error">Por favor, insira uma chave API válida.</div>';
                            return;
                        }
                            const body = document.getElementById('body');
                            body.setAttribute('style', 'justify-content: space-between;height: 100vh;'); 

                          
                        try {

                         

                            respostaElement.innerHTML = '<div class="loading">Processando sua solicitação...</div>';
                            carregarBtn.disabled = true;
                            var pergunta = perguntaInput.value;
                            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${chaveApi}`;

                            const response = await (fetch(url, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    contents: [
                                        {
                                            parts: [
                                                {
                                                    text: `${pergunta}`
                                                }
                                            ]
                                        }
                                    ]
                                })
                            }));

                            if (!response.ok) {
                                const errorData = await response.json();
                                throw new Error(errorData.error?.message || `Erro HTTP: ${response.status}`);
                            }

                            const data = await response.json();
                            respostaElement.innerHTML = `<p class="success">Resposta: ${data.candidates[0].content.parts[0].text}</p>`;
                            carregarBtn.disabled = false;
                            respostaElement.style.display = 'block';



                            aplicarEfeitoChat(data.candidates[0].content.parts[0].text);

                            

                        } catch (error) {
                            respostaElement.innerHTML = `<div class="error">Erro ao chamar a API: ${error.message}</div>`;
                        }

                    }
                    function aplicarEfeitoChat(texto) {

                        respostaElement.innerHTML = '<span class="cursor"></span>';

                        let index = 0;
                        const velocidade = 20; // Velocidade do efeito (em milissegundos)
                        const intervalo = setInterval(() => {
                            respostaElement.innerHTML = `<span class="cursor">${texto.slice(0, index)}</span>`;
                            index++;
                            if (index > texto.length) {
                                clearInterval(intervalo);
                            }
                        }, velocidade);

                    }

                    carregarBtn.addEventListener('click', CarregarPrompt);

                });










            </script>
</body>

</html>